---
import type { GetStaticPathsOptions } from "astro";
import Base from "../../../layouts/Base.astro";
import ArticleList from "../../../components/ArticleList.astro";
import Pagination from "../../../components/Pagination.astro";
import { CATEGORY_LABELS } from "../../../constants/labels";
import { makeCategoryPaths } from "../../../utils/collections";

export const getStaticPaths = (opts: GetStaticPathsOptions) => makeCategoryPaths("en", opts);

const { page } = Astro.props;
const { category } = Astro.params;
const label = (CATEGORY_LABELS[category as keyof typeof CATEGORY_LABELS]?.en) ?? category;
---

<Base title={label} lang="en">
  <div class="container-inner">
    <h1 class="text-3xl font-bold mb-8">{label}</h1>
    <ArticleList articles={page.data} />
    <Pagination page={page} />
  </div>
</Base>
